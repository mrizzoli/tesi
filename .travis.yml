language: r
#dist: trusty
sudo: false
branches:
  only:
  - master

addons:
  apt:
    sources:
      - debian-sid
    packages:
      - pandoc
      - pandoc-citeproc
      - biber
  
before_install:
#- sudo add-apt-repository ppa:marutter/c2d4u -y
#- sudo add-apt-repository ppa:texlive-backports/ppa -y
#- sudo apt-get update -q
#- sudo apt-get install pandoc pandoc-citeproc texlive-xetex texlive-latex3 texlive-latex-extra
  texlive-bibtex-extra biber texlive-fonts-recommended texlive-lang-italian -y
- wget -O prepara_tesi.sh https://raw.githubusercontent.com/mrizzoli/pandoc_scripts/master/prepara_tesi.sh
- chmod +x prepara_tesi.sh

script:
- "./prepara_tesi.sh"

env:
  global:
  - secure: lBk7SRgEHXDumpPlIQMRMcb5/jRYMevpV2O5ZEKm3DE2B6VboEP6m0dW57bOufJy9x3XvUgPtz0tM7ivPWvly1+6hofmPxvvo8Zd/mqAas94MncXc1FMJbap27xZLJpZKS/YFsO/qr7QfJXVDQu1SKwapQfXAnbxM1Uwe2A+1B00iw1JSyYIPYlT6HrmTfw0GAS65q9XpmltjpbTbGA7TQdoE9LRmAN+9a7EIMcbwDmUpkA/uX/0neyjD+DGkBY8ProwiujYY1jmr8usEQ+avP/hMR8hX4QzzlNY1utoaJTeJ2Viu9sHAmjim5+o5Alzgme72gVDrd6So+PNDvwG17GOVd64edCZZD9CZo/uLo7FJ4bcR7eSJ5MXT6gfC30rIgLE3h9zA6RLxnI5ikWVFpgTTnYVJnEUOjznUrLka1wTzTX16UZuvkO8fljuV8vXyYvEf7d/CajQVHsOyTGmeF5dSjo0M0aQVBgsv0ejNi4RcWOxS2iZYkpHnfpUTjPtNqz2IqpeCCvrTp9GiuhvDQoUEKzbBI82vnm82hympKossHT2X3itryhaY29Cxg/R8ICtP9ICJRuhjtawfrp73eA40u4Cr22nnmPyutVHzLT8dO2h5bD37JL2fN4gU9D1uPVgB5rGv9dK5ann3FEAhxhVQexom/F9wxkOBdDUoWQ=
  - secure: uhFRYwVghB07VJD2faVR+/5pfmwWvuVUuN5wTwqFhKUcDgMGxUeujuty51MwUcerL/10HAxDLUpEr3NbS4APBHg2R2Bv71nkTQ0DlcSi7YvxPfjMgGMxiMJHP6kKtCLgexLjsevCbSb3FyKfXyOGOMp0BigUrC+1Q23EEAeMdQOuPHEZP6KX2XMKJnuRoMiyHv2tQeofF9ZjaZ1z/qpEfusakWBo9PsjHh+1WJAPBi/2kWb05mt0l3S3t0GUqa6E10V25z9Nr36XGdABl138rhI1VEUXcCndR8SvVSOXbKtbs1ATlXRqgcyv7OvR9vwLsur6SSpwx3OUcLhaS0KHOLtm7wbMCQUhPiCegpWL+WW2SaviLP4FjpXBmp7Js3MWTvllc9y166Vroxdj5bCb/YqaXnUVsZU5Vd70afDSK9E8GZwQNhw7dJMAaRb0tZCDs3DOkGvzV2c+ZQVa09baIW8JuL1CzDfaLZBiJ9/4Cm2MT9B45XydqeFMFiXpAM6OSjBW5hfc/fWMu7GZuLtQMFTdnMKvBBO3xGrG0P0/OPbBzurZX5YsWt62elzu7tRxsX1pqtnz+DlfZ82OghAlEUdLaMPTuzhyvEbH9sByYIfgvkDmDnqgK/mg4w9qo+vHnHnanCYDKvBcHN97Al1dLf3+J2fX0w4YLKVtFuhyAGo=
  - secure: fT8C/iwmsH3in5QvGH4/ApjWp93Xqnfq16bzIRlQor3VaInVaJ3sxW8wT9VhgCdpaE5O79JK9o+lMnPieZyeMcgFsCcGEpwGv621czL8CTa2z9TxWnCDDCrUlSkK+0tS+GEpsCCkR7cG7jqsVCUB0bYbjvuhdFLxAvc6fo9Ed0Xks1xUo7YoGxeMiUgXznoFnoIsUvqqwQ9aJ5CFIt/pFI6ZnjEIsPEff6adJqEj29ltIfYRMONZ+xnW8/slxQFQz4BLcJurEXPF9s91zApG5d1sMIl99z1n3k52FAQ5QHZFbRHLqLSbbbZzCv6NDOkVspEOuIYIxpLCMNAnCc5VG2APT4okG7mPSSjH2xAnS8h8c1zLcWOAg80lb3u97qU3sHwTZDSl20Fy1UC9jIDhyAsA0KiOReq4Ao6QEb2+oCtqSMzEhJ9nAfvXxSEa9FF1jJvzqO4vu78jNX+2ib1VxAs+lLF0rfR/I6oR9uDU2K1ES8HMbsj+qjNhbg6c0t4AYG2RRE5Jg0apCjgC1tUFdfmGc+RwrC05CAPnHzX1+vyU+Rkrc4OfVBdNOkgEHvfzFEXKlxGABBWaSnHeTYElnteTphyCOko/mN0xwi48iN5UkaAVjFotjF7L9bNHY5feI/wsWBM+3XnwycGbda5ej6XG5l93IZZW2bkpknMOLQ8=
  - secure: oAY8lHgNHaJT1cUI8udd/S6IT44RkSTPHohepJaFxDOdnzF31sNHA5wHYxQHxxCYq1ftyxjLQK72TCaysrNQes6VafHJEuo6mbBtHjzwqUPn7GBKTBQWmJ/4ZI5lQ2rBaijERNAC5Zip5QRAonBuEd5Max/IlzgKZFOpAzul20CxA76xx+/PkkawUObXqHOctGWWoAKChWiQQgIsPyfE5pcKeZK12FSF/H49xkLFoi4G72BINnu7uASFWyGwRTq05A25w3t4+rwJiXv0mHr5CDLsg0KFv5TShKfSy0rEStXYWm3tNXODc5bzB0l1w1si7yhW+1Y1g4ZaijnoCz47vh99kn4N0aA/4MPc9PJyzokQ2JOVFxpufFsGm4Od74uflDBj3x4tTtKY/nV8Qbjw2CSM0MWZMoIbaUPKMl6wIi9TQ0XQS1SVNmq80xPYHpe1D1+JFQ2n+Jv6l95bjFjqqGuCHF4sXCmYK/WqHS+fZlFlprAUdn66WsBuXgkW1cuZ0ZdOErJp8XPgK1M6tmiuv7mmeVK9Ze3oEWzImncNuZGfPwtRcktoFngNXlpXO1AnMbq+yssUaUvJDwvdOZmQoUiVh5PtQNA+kkQSUTSWCL1DedFpkwEmL544+3/AZAIAsFUVakEtBQ+MX4ccCmFOk3xND1oDH+YvCBngV5YPcHg=
  - secure: pc8nLxdwpwlpDFB+5DpZrSvGs98Ipk62C9an/w+0WUgkTGLnIlwgN06k1DL0CKNbSU813+Ztd+HGtsrz5vJ6ctCbnaP2SX3228DeLRtWECREA6lsYO7pmAHp5ogc8wjH8BfervO5VMruTe7sUn7DnV7DCPI1kVLgsJljcyLCVAXNSkldxyzdIpkLNZl6enk53ykqOFbbP7Pkt1M+vxLGGpdLlUF5+/mxvU8lNR5Q3jeAMgFiQrnH4vK0VcK4XP++a7+tIaP6z/dnlOWfM7PyRzPAVXV40g18G/KjGVihzLSBqTUyPVqQxKzkCoCHf7vrtx/RLKayvqE8JbKFjBKK2KBCpjB7UpPtutUlQhvtY0WtvgNIlbaNHbBQTBT7Od0Jp8v2vR2PCeHSm/958ZghpcKMGJvIr7Mzy8poq9CrCIn3xZN6duF5PVdIOkIbomiT1IZSdteBX7d5tSGLedY2R6D9u1WgZtiKWjCGEsNCPK/IblH6umVWGnylpd5mznPr10jkGOGcMSUHcqE11NuTyi8wYFdJhkgxtcBObujspxOOF0W/21RanU+XsGYNVoCcdt3/aNmeBngvkca446/BZx/AdpknZ5uGJu4mafF8iK8JqNNwcqzGlCYRsiSqgJcRYAD6V0ggtM6XofXauTY6BhP9MITC/1DAgFtH+pM6hUs=
  - secure: xulArgixmy1NLil+J7W7d2yDIfRFPX7L4mmhh1bKMEf7jW1XCgES+zoCp9vZUYPpXc4i6AuUuN75gJ9FmhyFxL0Fm5WHyFOVLttMfYyuCmKeix3GI/ka/mmX0QKHCODDvRLLnPgKJC08ypWIJEKDWqa2QhHQhHdFUWNZfYJzhPmvUgTcQm6nW/GB2FwNpHOrDvSQQAHBJliWyoLPn48CyzEX/KjtPDaCHrZgVLNki/xD5y+cukQJ7oxqcO7KZUhaXngZp0KowSoDw3r5S+Sr8efow48GNokhrV6lM8Pw7yQs/NB5f+orQMCiS3trpr3TYDlcJY+ltjJq5ow/hGDm+fiLcV2Bf59Eg729KX+xQoCQTQN9UsjtD6tgbBafa1qoLguP5ktDhdB2ZoCfzi3UWKEDGRZBwFRxiawFKTQyHiH/zTl8sKqXIl675xNtdwuZu025b5tGWQI4mZsdKVDVd++APoxKsYj6+l/Sw1zRJy3zd/c3MVwbv0+YFkd92nQFSQBt25rh9kONgQvG/vhbgY2zGoBvSMy5cgZnqOXVQhRqBzF5qt9lvBGzASn7mJb7ULD5p7G7rDLWFm4vQ/aizAfN+/+fgHITp7ZDHWjmNPWI0vaWwj3rTbu9/YY68g47Lb4OrXAK/TzSwycL6bgW6atVLAx0vWoNwzmCyK3IQ40=
  - secure: WcNeWR6U9FvgA4tM/VS81/RRyKgOj/L+osShxmMQMcBlJKo53TFLwbqgRniqgXnkCJ8A/mWdzFicX64R/6pPWNzWuGq5MIgZ0sE4rzMyNjSU4SPnq6xEZ6u+7JmzidHwhuefV2R/TL+htLhY43XINvc7i/J5aVIKem64ypBY4yTAqEGIHHlKGk6bxkswJSzOQuUJC6zxiXDTCtA7FWgn5f1K209e7XmOCfipmNnv9gdZ8rOBd/ajC6qA5vYXj/1LeKXtpVzUh/RAe62Q7AaSDCayzMHbTN79zCm7BOKI5LUx70B39m/jlYdhUMqlQVHCUGIQiHnm8GxE6knUQypuiGZJhV64NMIj2QD9SBK/aV3W3/vypqQwxmNHxAbBJgZ+qrA26JTFaeC8CwqO8PVKkT/NmFgF25Utzztzp4ezfJXcVzgCbvEycOAKk4KoFjLsUBN7wJWB1KBy/+6m67ROPfcAyIlmf4L9y1XqhwyPh+/BNNeWHt7t9FihBN7cUpZ1WNoF5AD0mcxyiGXKIz++/h4FBp4ytCnjRJs30wQyb9pelzTo2JPzsvlV0ZQ1atqwzvD3NqxXhdMD+tRm8xXO1EzXejTBQuPvDM2PComF4pWJMOD/q79eaNQDSvQvcMw+fAXwzhTOoFTZH/Ggi+wctk9TjzFbu9LC7GkfF1taWA0=
  - secure: uBe99BgvQ4kkwGw8oOK9MPCvUkormD7PwBJ55rDXvd4lGRi9mpdOvPFWyKEjqlmbrZlCd+eysy9Y55J2QaTvl2x7JRoin9b0WUTiAT7SeuqYVdg+0FRUac/YiSOL4dtaImSYuQ3qXqRlVxrsB45iAR/xc6NvDM4A6o1N6tfr5w7vdJusph2Sn26laWQfy5N3YtTrh/OuZS9E+5N8Zp6Qkdnqopn7nw6G7Eb8rsLQ/i/x671kkmz+lHaNajtwfo4lQd/kk9A3E/Uo/MaLbV12Y7YtpFtmGZyVmJSyD31cwsRiVDbP0I2kLFqzm9ZgC1Xx0tZuGsBGUijeo1LA4I4XKlIsv2i1J2rFIu4EHQDal9wUKdByT5LtSLn/fhE4KComRjEfSjnTFRsWeDOGBiPKiApCCP4dMfRRDK8LH098n09l0KaQyUy9U3yCu8vPfob53NK7di+yUsWRIzaY1k+tSafNh88zACo7bOG/ThFLq9FLofbD5aD6Gk19BVNNSPJ6MvjhookVt2sjHTZCdkaYOhTzcAN39Va/tZGGduZT+rb+ueVl22U0H6A/RSAJFGdpjjYwyzeacpAHwkT8jr8idRt3TgQcydb1iJLTT2n0Mbs4hV3jqZOz9b4oBG47s7jB9hqjRWcTbhepisHd7sKpqS0u/fGONwQ4EF9Nfu1i5aA=
  - secure: WbhM+WJhVQJ+rphZ2irI6Pvi1zImBhGA3bSjEy1BdunY6D7CMoKkKgYRyEmAxg1Ea/nHENk75jiUgEMGqN9uu+h7X8z3Rv4wX4nSKJHh7g/3D5dDT4sQYq6+3na+XdOcAtJzZ9DUNUMeb5Ykx5YEFGK7DQaVsvGcjiFqC8pExmFcV2enAfHPsAaomNGI7xOLF2LswGTYyqj8W/vrhlkEPtOJNZjqhtVmdsdgAfSKSp3RBf39rKQF8kuRRKKjKiFODFFVc4GAQ7SgfPRyTlM5mv0I2ErwMdvKONM1BM+eIwGARSd/7bGTaf96RYyL7B5Dfi+ZiMPT0AVdquSltsPrhvdRczraR0ska0NdOM/sgQwg8iMa27ux1doLKSpeW3ty3b0/QP54B9oZtmffsHNQCCYCLhWZFKQCHBfDucdbVe+fGjoYN7Iwnr+I+3oFydLbR/7z13NOSfN0rivcQOXccp7TEA2My4SsP6jSTXNbRr8c+ZFJiCdcSlBIYqJLvx5ZsP+MksnmZtTw4nft/lJhyJZxKqXsWQndX+sPzXeG7zZvL+/V0lBWmF9PmAc7otxRTHxxgyc9+nQ2U+WcinB2zFt93jvbhztRB/yRLvHHkVlQRMB99jGlhB6awaoyZaC8XdtjQqbTG3eUVWQVU/v2loQp56ECgEAm/1fsUqMPdBE=
